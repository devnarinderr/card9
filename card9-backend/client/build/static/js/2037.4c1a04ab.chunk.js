"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[2037],{10245:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(9950),i=a(44414);const o=e=>{let{title:t,description:a,image:o,date:n}=e;return(0,r.useEffect)((()=>{document.querySelector('meta[property="og:title"]').content=t,document.querySelector('meta[property="og:description"]').content=a,document.querySelector('meta[property="og:image"]').content=o,document.querySelector('meta[property="og:type"]').content="website"}),[t,a,o]),(0,i.jsx)(i.Fragment,{})}},11402:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(29246),i=a(53619);const o=new(a(41881).A),n=`${i.$}/api/auth/`,s={register:(e,t,a,i)=>r.A.post(`${n}register`,{firstName:e,lastName:t,email:a.toLowerCase(),password:i}).then((e=>e.data)).catch((e=>e.response)),googleLogin:()=>r.A.get(`${i.$}/api/oAuth/user`,{withCredentials:!0}).then((e=>e.data)).catch((e=>{console.log(e)})),emailVerify:e=>r.A.patch(`${n}emailVerification/${e}`).then((e=>e)).catch((e=>e)),login:(e,t)=>r.A.post(`${n}login`,{email:e.toLowerCase(),password:t}).then((e=>e.data)).catch((e=>e)),resetPassword:(e,t)=>r.A.patch(`${n}resetPassword/${t}`,{data:e}).then((e=>e)).catch((e=>e)),logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("card"),o.remove("token")},updateProfile:(e,t)=>r.A.post(`${n}update-profil/${t}`,{data:e}).then((e=>e)),updateEmail:(e,t)=>r.A.post(`${n}update-email/${e}`,{id:e,email:t}).then((e=>e.data)),deleteUser:e=>r.A.delete(`${n}delete-user/${e}`,{id:e}).then((e=>e))}},25230:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(26689),i=a(14857),o=a(52346);const n=a.p+"static/media/Logo2.3b0e1791e927a5bbf4e9.png";var s=a(44414);function l(e){let{disabledLink:t=!1,sx:a}=e;const l=(0,i.A)(),d=(l.palette.primary.light,l.palette.primary.main,l.palette.primary.dark,(0,s.jsx)(o.A,{sx:{width:120,height:40,...a},children:(0,s.jsx)("img",{src:n,alt:""})}));return t?(0,s.jsx)(s.Fragment,{children:d}):(0,s.jsx)(r.N_,{to:"/dashboard",children:d})}},36887:(e,t,a)=>{a.d(t,{Ww:()=>c,hG:()=>p,iD:()=>s,r7:()=>d,ri:()=>l});var r=a(41881),i=a(53744),o=a(11402),n=a(32520);const s=(e,t)=>a=>o.A.login(e,t).then((e=>{a({type:i._x,payload:{user:e}});return(new r.A).set("token",e.token,{path:"/",maxAge:43200,sameSite:"lax"}),(0,n.gV)(e.data),Promise.resolve(e.data)}),(e=>(a({type:i.PW}),Promise.reject(e)))),l=()=>e=>{o.A.logout(),e({type:i.T_})},d=(e,t)=>a=>{o.A.updateProfile(e,t).then((e=>(a({type:i.mN,payload:{user:e.data}}),(0,n.gV)(e.data),Promise.resolve(e))),(e=>(a({type:i.RD}),Promise.reject(e))))},c=(e,t)=>a=>{o.A.updateEmail(e,t).then((e=>(a({type:i.VH,payload:{user:e.data}}),(0,n.gV)(e.data),Promise.resolve())),(e=>(a({type:i.QI}),Promise.reject())))},p=e=>t=>{o.A.deleteUser(e).then((e=>(t({type:i.Ur}),Promise.resolve(e))),(e=>(t({type:i.fn}),Promise.reject(e))))}},44070:(e,t,a)=>{e.exports=a.p+"static/media/account.6c53c0a1c12e6d7eaa36.png"},66075:(e,t,a)=>{a.d(t,{A:()=>c});var r=a(9950),i=a(11942),o=a.n(i),n=a(14650),s=a(52346),l=a(44414);const d=(0,r.forwardRef)(((e,t)=>{let{icon:a,sx:r,...i}=e;return(0,l.jsx)(s.A,{component:n.In,icon:a,sx:{...r},ref:t,...i})}));d.propTypes={icon:o().oneOfType([o().element,o().string]),sx:o().object};const c=d},81973:(e,t,a)=>{a.r(t),a.d(t,{default:()=>le});var r=a(9950),i=a(13564),o=a(82569),n=a(59254),s=a(10245),l=a(97497),d=a(88060),c=a(83239),p=a(25333),h=a(52346),u=a(12257),m=a(66075),x=a(26689),g=a(41413),b=a(82053),f=a(74745),A=a(23266),y=a(72362),j=a(44414);const v=(0,n.Ay)("span")((e=>{let{theme:t}=e;return{[t.breakpoints.up("sm")]:{top:-7,zIndex:1,width:12,right:20,height:12,content:"''",position:"absolute",borderRadius:"0 0 4px 0",transform:"rotate(-135deg)",background:t.palette.background.paper,borderRight:`solid 1px ${(0,l.X4)(t.palette.grey[500],.12)}`,borderBottom:`solid 1px ${(0,l.X4)(t.palette.grey[500],.12)}`}}}));function k(e){let{children:t,sx:a,...r}=e;return(0,j.jsxs)(y.Ay,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{p:1,width:200,overflow:"inherit",...a}},...r,children:[(0,j.jsx)(v,{className:"arrow"}),t]})}var w=a(44070),S=a(36887);const C=[{label:"Home",linkTo:"/app/cards"},{label:"Contact Support",linkTo:"support"},{label:"Send Feedback",linkTo:"feedback"},{label:"Settings",linkTo:"settings"}];function P(){const e=(0,r.useRef)(null),[t,a]=(0,r.useState)(null),n=(0,i.Zp)(),s=()=>{a(null)},d=(0,o.wA)(),{user:c}=(0,o.d4)((e=>e.auth));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.A,{ref:e,onClick:e=>{a(e.currentTarget)},sx:{p:0,...t&&{"&:before":{zIndex:1,content:"''",width:"100%",height:"100%",borderRadius:"50%",position:"absolute",bgcolor:e=>(0,l.X4)(e.palette.grey[900],.8)}}},children:c.data?(0,j.jsx)(g.A,{src:c.data.profile?c.data.profile:w,alt:"photoURL"}):(0,j.jsx)(g.A,{src:c.profile?c.profile:w,alt:"photoURL"})}),(0,j.jsxs)(k,{open:Boolean(t),anchorEl:t,onClose:s,sx:{p:0,mt:1.5,ml:.75,"& .MuiMenuItem-root":{typography:"body2",borderRadius:.75}},children:[(0,j.jsxs)(h.A,{sx:{my:1.5,px:2.5},children:[(0,j.jsx)(b.A,{variant:"subtitle2",noWrap:!0,children:`${c.data?c.data.firstName:null===c||void 0===c?void 0:c.firstName} ${c.data?c.data.lastName:null===c||void 0===c?void 0:c.lastName}`}),(0,j.jsx)(b.A,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:c.data?c.data.email:null===c||void 0===c?void 0:c.email})]}),(0,j.jsx)(f.A,{sx:{borderStyle:"dashed"}}),(0,j.jsx)(u.A,{sx:{p:1},children:C.map((e=>(0,j.jsx)(A.A,{to:e.linkTo,component:x.N_,onClick:s,children:e.label},e.label)))}),(0,j.jsx)(f.A,{sx:{borderStyle:"dashed"}}),(0,j.jsx)(A.A,{onClick:()=>{d((0,S.ri)()),n("/login")},sx:{m:1},children:"Logout"})]})]})}var $=a(53744);const R=e=>t=>t({type:$.f2,payload:e}),N=(0,n.Ay)(d.A)((e=>{let{theme:t}=e;return{boxShadow:"none",backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)",backgroundColor:(0,l.X4)(t.palette.background.default,.72),[t.breakpoints.up("lg")]:{width:"calc(100% - 281px)"}}})),T=(0,n.Ay)(c.A)((e=>{let{theme:t}=e;return{minHeight:64,[t.breakpoints.up("lg")]:{minHeight:92,padding:t.spacing(0,5)}}}));function I(e){let{onOpenSidebar:t}=e;const[a,i]=(0,r.useState)("dark"),n=(0,o.wA)();return(0,r.useEffect)((()=>{n(R("light"===a?"dark":"light"))}),[a]),(0,j.jsx)(N,{children:(0,j.jsxs)(T,{children:[(0,j.jsx)(p.A,{onClick:t,sx:{mr:1,color:"text.primary",display:{lg:"none"}},children:(0,j.jsx)(m.A,{icon:"eva:menu-2-fill"})}),(0,j.jsx)(h.A,{sx:{flexGrow:1}}),(0,j.jsx)(u.A,{spacing:{xs:.5,sm:1.5},children:(0,j.jsx)(P,{})})]})})}var O=a(41881),_=a(36080),L=a(71525),E=a(98091),z=a(25230),W=a(63344);const B=(0,n.Ay)("div")((()=>({flexGrow:1,height:"100%",overflow:"hidden"}))),F=(0,n.Ay)(W.A)((e=>{let{theme:t}=e;return{maxHeight:"100%","& .simplebar-scrollbar":{"&:before":{backgroundColor:(0,l.X4)(t.palette.grey[600],.48)},"&.simplebar-visible:before":{opacity:1}},"& .simplebar-track.simplebar-vertical":{width:10},"& .simplebar-track.simplebar-horizontal .simplebar-scrollbar":{height:6},"& .simplebar-mask":{zIndex:"inherit"}}}));function H(e){let{children:t,sx:a,...r}=e;const i="undefined"===typeof navigator?"SSR":navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(i)?(0,j.jsx)(h.A,{sx:{overflowX:"auto",...a},...r,children:t}):(0,j.jsx)(B,{children:(0,j.jsx)(F,{timeout:500,clickOnTrack:!1,sx:a,...r,children:t})})}var D=a(14857),U=a(57357),X=a(14195),G=a(83563),M=a(33738),V=a(249);const q=(0,n.Ay)((e=>(0,j.jsx)(U.A,{disableGutters:!0,...e})))((e=>{let{theme:t}=e;return{...t.typography.body2,height:48,position:"relative",textTransform:"capitalize",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius}})),Z=(0,n.Ay)(X.A)({width:22,height:22,color:"inherit",display:"flex",alignItems:"center",justifyContent:"center"});function Q(e){let{item:t,active:a}=e;const i=(0,D.A)(),o=a(`/app/${t.path}`)||a(`${t.path}`),{title:n,path:s,icon:d,info:c,children:p}=t,[u,g]=(0,r.useState)(o),b=()=>{g((e=>!e))},f={color:"primary.main",fontWeight:"fontWeightMedium",backgroundColor:(0,l.X4)(i.palette.primary.main,i.palette.action.selectedOpacity)},A={color:"text.primary",fontWeight:"fontWeightMedium"};return p?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(q,{onClick:b,sx:{...o&&f},children:[(0,j.jsx)(Z,{children:d&&d}),(0,j.jsx)(G.A,{disableTypography:!0,primary:n}),c&&c,(0,j.jsx)(m.A,{icon:u?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",sx:{width:16,height:16,ml:1}})]}),(0,j.jsx)(M.A,{in:u,timeout:"auto",unmountOnExit:!0,children:(0,j.jsx)(V.A,{component:"div",disablePadding:!0,children:p.map((e=>{const{title:t,path:r}=e,i=a(r);return(0,j.jsxs)(q,{component:x.k2,to:r,sx:{...i&&A},children:[(0,j.jsx)(Z,{children:(0,j.jsx)(h.A,{component:"span",sx:{width:200,height:4,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center",backgroundColor:"text.disabled",transition:e=>e.transition.create("transform"),...i&&{transform:"scale(2)",backgroundColor:"primary.main"}}})}),(0,j.jsx)(G.A,{disableTypography:!0,primary:t})]},t)}))})})]}):(0,j.jsxs)(q,{component:x.k2,to:s,sx:{...o&&f},children:[(0,j.jsx)(Z,{children:d&&d}),(0,j.jsx)(G.A,{disableTypography:!0,primary:n}),c&&c]})}function J(e){let{navConfig:t,...a}=e;const{pathname:r}=(0,i.zy)(),o=e=>!!e&&!!(0,i.B6)({path:e,end:!1},r);return(0,j.jsx)(h.A,{...a,children:(0,j.jsx)(V.A,{disablePadding:!0,sx:{p:1},children:t.map((e=>(0,j.jsx)(Q,{item:e,active:o},e.title)))})})}const K=e=>(0,j.jsx)(m.A,{icon:e,width:22,height:22}),Y=[{title:"cards",path:"cards",icon:K("eva:pie-chart-2-fill")},{title:"catalogue",path:"catalogue",icon:K("fluent-mdl2:product-catalog")},{title:"settings",path:"settings",icon:K("eva:settings-fill")}],ee=[{title:"users",path:"/admin/users",icon:K("mdi:users")},{title:"cards",path:"/app/cards",icon:K("eva:pie-chart-2-fill")},{title:"catalogue",path:"/app/catalogue",icon:K("fluent-mdl2:product-catalog")},{title:"settings",path:"/app/settings",icon:K("eva:settings-fill")}],te=280,ae=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{[t.breakpoints.up("lg")]:{flexShrink:0,width:te}}})),re=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",padding:t.spacing(2,2.5),borderRadius:1.5*Number(t.shape.borderRadius),backgroundColor:t.palette.grey[50012]}}));function ie(e){let{isOpenSidebar:t,onCloseSidebar:a}=e;const{pathname:n}=(0,i.zy)(),s=(0,E.A)("up","lg"),l=(0,i.Zp)(),d=new O.A,c=(0,o.wA)(),[p,u]=(0,r.useState)(!1),{user:m}=(0,o.d4)((e=>e.auth));(0,r.useEffect)((()=>{var e;"admin"===((null===m||void 0===m?void 0:m.role)||(null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.role))?u(!0):l("/app/cards",{replace:!0})}),[m]);const f=d.get("token");(0,r.useEffect)((()=>{void 0===f&&c((0,S.ri)())}),[n]),(0,r.useEffect)((()=>{t&&a()}),[n]);const A=(0,j.jsxs)(H,{sx:{height:1,"& .simplebar-content":{height:1,display:"flex",flexDirection:"column"}},children:[(0,j.jsx)(h.A,{sx:{px:2.5,py:3,display:"inline-flex"},children:(0,j.jsx)(z.A,{})}),(0,j.jsx)(h.A,{sx:{mb:5,mx:2.5},children:(0,j.jsx)(_.A,{underline:"none",component:x.N_,to:"#",children:(0,j.jsxs)(re,{children:[m.data?(0,j.jsx)(g.A,{src:m.data.profile?m.data.profile:w,alt:"photoURL"}):(0,j.jsx)(g.A,{src:m.profile?m.profile:w,alt:"photoURL"}),(0,j.jsx)(h.A,{sx:{ml:2},children:(0,j.jsx)(b.A,{variant:"subtitle2",sx:{color:"text.primary"},children:`${m.data?m.data.firstName:null===m||void 0===m?void 0:m.firstName} ${m.data?m.data.lastName:null===m||void 0===m?void 0:m.lastName}`})})]})})}),(0,j.jsx)(J,{navConfig:p?ee:Y}),(0,j.jsx)(h.A,{sx:{flexGrow:1}})]});return(0,j.jsxs)(ae,{children:[!s&&(0,j.jsx)(L.Ay,{open:t,onClose:a,PaperProps:{sx:{width:te}},children:A}),s&&(0,j.jsx)(L.Ay,{open:!0,variant:"persistent",PaperProps:{sx:{width:te,bgcolor:"background.default",borderRightStyle:"dashed"}},children:A})]})}const oe=a.p+"static/media/ogDashboard.3bb622a43b01ef878e19.png",ne=(0,n.Ay)("div")({display:"flex",minHeight:"100%",overflow:"hidden"}),se=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{flexGrow:1,overflow:"auto",minHeight:"100%",paddingTop:88,paddingBottom:t.spacing(10),[t.breakpoints.up("lg")]:{paddingTop:116,paddingLeft:t.spacing(2),paddingRight:t.spacing(2)}}}));function le(){const[e,t]=(0,r.useState)(!1),{isLoggedIn:a}=(0,o.d4)((e=>e.auth));return(0,j.jsxs)(ne,{children:[(0,j.jsx)(s.A,{title:"Card9-Dashboard",description:"DASHBOARD",image:oe}),!0===a?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(I,{onOpenSidebar:()=>t(!0)}),(0,j.jsx)(ie,{isOpenSidebar:e,onCloseSidebar:()=>t(!1)}),(0,j.jsx)(se,{children:(0,j.jsx)(i.sv,{})})]}):(0,j.jsx)(i.C5,{to:"/login"})]})}},98091:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(14857),i=a(22433);function o(e,t,a,o){const n=(0,r.A)(),s=(0,i.A)(n.breakpoints.up(t)),l=(0,i.A)(n.breakpoints.down(t)),d=(0,i.A)(n.breakpoints.between(a,o)),c=(0,i.A)(n.breakpoints.only(t));return"up"===e?s:"down"===e?l:"between"===e?d:"only"===e?c:null}}}]);