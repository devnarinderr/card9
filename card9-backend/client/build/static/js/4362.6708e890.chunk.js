"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[4362],{8279:(e,t,i)=>{i.d(t,{A:()=>d});var a=i(11942),n=i.n(a),r=i(76455),o=i(9950),l=i(52346),s=i(44414);const c=(0,o.forwardRef)(((e,t)=>{let{children:i,title:a="",meta:n,...o}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.mg,{children:[(0,s.jsx)("title",{children:`${a} | Card9`}),n]}),(0,s.jsx)(l.A,{ref:t,...o,children:i})]})}));c.propTypes={children:n().node.isRequired,title:n().string,meta:n().node};const d=c},35781:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(29246);const n=`${i(53619).$}/api/Catalogue/`,r={newCatalogue:(e,t)=>a.A.post(`${n}new-catalogue/${t}`,{catalogData:e}).then((e=>e)).catch((e=>e.response)),getOneCatalogue:e=>a.A.get(`${n}${e}`).then((e=>e)).catch((e=>e.response)),getOneCatalogueWithName:e=>a.A.get(`${n}name/${e}`).then((e=>e)).catch((e=>e.response)),getAllCataloguesByCardId:e=>a.A.get(`${n}all-catalogue/${e}`).then((e=>e)).catch((e=>e.response)),getAllCataloguesByUserId:e=>a.A.get(`${n}all-catalogue-by-user/${e}`).then((e=>e)).catch((e=>e.response)),deleteCatalogue:e=>a.A.delete(`${n}delete/${e}`).then((e=>e)).catch((e=>e.response)),editCatalogue:(e,t)=>a.A.patch(`${n}edit/${t}`,{catalogueData:e}).then((e=>e)).catch((e=>e.response))}},54362:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Y});var a=i(9950),n=i(82569),r=i(60666),o=i(13564),l=i(61467),s=i(6890),c=i(19808),d=i(35007),u=i(13569),p=i(82053),g=i(50704),m=i(25979),h=i(19647),x=i(40815),f=i(3198),b=i(52346),v=i(25277),A=i(23266),w=i(28095),y=i(59254),$=i(48089),k=i(25333),j=i(29925),C=i(60899),S=i(66075),W=i(56175);const R=(0,y.Ay)("div")({display:"flex",alignItems:"center",marginBottom:16}),M=(0,y.Ay)(S.A)((e=>{let{theme:t}=e;return{width:"32px",height:"32px",cursor:"pointer",margin:"8px 16px",[t.breakpoints.down("sm")]:{margin:"8px"}}})),I=(0,y.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",flexWrap:"wrap",[t.breakpoints.down("md")]:{justifyContent:"center"}}})),N=(0,y.Ay)($.A)((e=>{let{theme:t}=e;return{width:400,margin:"1rem",borderRadius:"0.5rem",textDecoration:"none",[t.breakpoints.down("sm")]:{width:360,margin:"auto",marginBottom:16}}})),z=(0,y.Ay)("form")({}),B=(0,y.Ay)("div")((e=>{let{color:t}=e;return{backgroundColor:t,position:"relative",height:"385px",overflow:"hidden",userSelect:"none"}})),T=(0,y.Ay)("label")((e=>{let{theme:t,background:i}=e;return{display:"block",background:`url(${i})`,backgroundColor:t.palette.grey[200],backgroundRepeat:"no-repeat",height:"100%",backgroundPosition:"30% bottom",backgroundSize:"60%",cursor:"pointer"}})),O=(0,y.Ay)("input")({display:"none"}),E=((0,y.Ay)(W.A)({position:"absolute",bottom:0}),(0,y.Ay)(k.A)((e=>{let{indicator:t}=e;return{position:"absolute",background:t,color:"#fff",":hover":{background:t}}}))),D=((0,y.Ay)("label")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",position:"absolute",bottom:0,right:24,width:"60px",height:"60px",color:t.palette.grey[600],backgroundColor:t.palette.grey[200],borderRadius:8,cursor:"pointer"}})),(0,y.Ay)(u.A)({position:"absolute",bottom:0,right:24,width:"60px !important"}),(0,y.Ay)("div")({padding:"16px",display:"flex",alignItems:"center",flexWrap:"wrap"}),(0,y.Ay)("div")((e=>{let{color:t,active:i}=e;return{background:t,width:"1.25rem",height:"1.25rem",cursor:"pointer",transition:"300ms ease 0s",borderRadius:"100%",margin:"0.5rem",transform:i&&"scale(1.5)",boxShadow:i&&"#fff 0px 0px 0px 2px, rgb(0, 0, 0, 0.4) 0px 0px 0px 3px"}})),(0,y.Ay)("div")({})),V=((0,y.Ay)("div")({}),(0,y.Ay)("div")({position:"relative",display:"flex"}),(0,y.Ay)("div")({}),(0,y.Ay)("div")({marginTop:12,height:"fit-content",opacity:.5,cursor:"pointer"}),(0,y.Ay)(j.A)((e=>{let{theme:t,indicator:i}=e;return{marginBottom:1,"& .Mui-focused":{"&.MuiInputLabel-root":{color:i},"&:after":{borderColor:i}},[t.breakpoints.down("sm")]:{width:"18rem",margin:"auto"}}}))),_=((0,y.Ay)($.A)((e=>{let{theme:t,indicator:i}=e;return{padding:12,width:400,height:"fit-content",margin:"1rem",borderRadius:"0.5rem",backgroundColor:`${i}20`,[t.breakpoints.down("sm")]:{width:360,margin:"auto"}}})),(0,y.Ay)(C.Ay)({padding:16,textAlign:"center",cursor:"pointer",userSelect:"none",":hover svg":{transform:"scale(1.1)"}}),(0,y.Ay)("div")((e=>{let{theme:t}=e;return{margin:"3px 24px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"10px"}})));var q=i(8279),F=i(78822),G=i(74779),P=i(82138),H=i(35781),L=i(44414);const U={PaperProps:{style:{maxHeight:224,width:250}}},Z=(e,t,i)=>({fontWeight:-1===t.indexOf(e)?i.typography.fontWeightRegular:i.typography.fontWeightMedium});function Y(){const e=(0,o.Zp)(),t=(0,G.a)(),{catalogueData:i}=(0,n.d4)((e=>e.catalogue)),[y,$]=(0,a.useState)(!1),[k,j]=(0,a.useState)(""),[C,W]=(0,a.useState)(!1),[Y,J]=(0,a.useState)([]),[K,Q]=(0,a.useState)([]),[X,ee]=(0,a.useState)(""),[te,ie]=(0,a.useState)(!1),[ae,ne]=(0,a.useState)(!1),[re,oe]=(0,a.useState)(null),{user:le}=(0,n.d4)((e=>e.auth));let se=[],ce=[];(0,a.useEffect)((()=>{let e=[];null===i||void 0===i||i.catalogue.card.map((t=>{e.push(t.name)})),j(e),W(!(null===i||void 0===i||!i.catalogue.theme))}),[i]),(0,a.useEffect)((async()=>{await P.A.getAllCards(le.data?le.data.id:le.id).then((e=>{var t;e&&(null===(t=e.cards)||void 0===t||t.map((e=>{ce.push(e),se.push(e.cardName)})))})),Q(ce),J(se)}),[]);const de=r.Ik().shape({image:r.gl().required("Profile Image Required"),title:r.Yj().required("Title is required")}),ue=(0,l.Wx)({initialValues:{image:i?i.catalogue.image:"",title:i?i.catalogue.title:"",description:i?i.catalogue.description:"",price:i?i.catalogue.price:"",url:i?i.catalogue.url:""},validationSchema:de,onSubmit:(t,a)=>{let n=[];if(null===K||void 0===K||K.map(((e,t)=>{k.includes(e.cardName)&&n.push({id:e.id,name:k.length>1?k[t]:k[0]})})),k.length>0){const r=Object.assign({...t},{card:n,isCardTheme:C,userId:le.data?le.data.id:le.id});H.A.editCatalogue(r,null===i||void 0===i?void 0:i.catalogue.id).then((t=>{oe("Catalog successfully Edited."),setTimeout((()=>{ne(!0),a.setSubmitting(!1)}),1e3),setTimeout((()=>{e("/app/catalogue")}),3e3)}))}else a.setSubmitting(!1)}}),{values:pe,handleChange:ge,handleSubmit:me,setFieldValue:he,isSubmitting:xe,errors:fe,touched:be}=ue;(0,a.useEffect)((()=>{setTimeout((()=>{$(!1)}),2e3)}),[y]);const ve=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return(0,L.jsx)(S.A,{icon:e,width:t,height:i})};return(0,L.jsxs)(q.A,{title:"Edit Catalogue",children:[(0,L.jsx)(F.A,{open:y,setOpen:me,type:"error",title:"Error",msg:fe.image}),(0,L.jsx)(F.A,{open:te,setOpen:me,type:"error",title:"Error",msg:X}),(0,L.jsx)(F.A,{open:ae,setOpen:ne,type:"success",title:"Success",msg:re}),(0,L.jsxs)(c.A,{maxWidth:"xl",children:[(0,L.jsx)(R,{children:(0,L.jsx)(d.A,{title:"Back",children:(0,L.jsx)(M,{icon:"eva:arrow-back-fill",onClick:()=>(e=>{e(-1)})(e)})})}),(0,L.jsx)(I,{children:(0,L.jsxs)(N,{children:[(0,L.jsxs)(z,{children:[(0,L.jsxs)(B,{color:null===i||void 0===i?void 0:i.catalogue.theme,children:[pe.image?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(u.A,{component:"img",image:pe.image,alt:"avatar",sx:{height:"100%",objectFit:"contain"}}),(0,L.jsx)(E,{variant:"contained",onClick:()=>{document.getElementById("inputImage").click()},indicator:null===i||void 0===i?void 0:i.catalogue.theme,sx:{top:12,right:64},children:ve("bi:camera-fill")}),(0,L.jsx)(E,{variant:"contained",onClick:()=>{he("image","")},indicator:null===i||void 0===i?void 0:i.catalogue.theme,sx:{top:12,right:24},children:ve("bi:trash-fill")})]}):(0,L.jsx)(T,{htmlFor:"inputImage",background:"/static/illustrations/avatar-background.svg",children:(0,L.jsx)(p.A,{sx:{textAlign:"center",pt:2,opacity:.5},children:"Upload a catalogue image"})}),(0,L.jsx)(O,{id:"inputImage",type:"file",name:"image",accept:"image/gif image/png, image/jpeg, image/x-png",onChange:e=>(async e=>{const t={maxSizeMB:.8,maxWidthOrHeight:500,useWebWorker:!0};if(e.target.files&&e.target.files.length){const i=new FileReader,a=await(0,s.A)(e.target.files[0],t);i.readAsDataURL(a),i.onloadend=()=>{he("image",i.result)}}})(e)})]}),(0,L.jsx)(g.A,{sx:{p:"0 !important",mb:2},children:(0,L.jsx)(D,{sx:{p:3,pb:1},children:[{label:"Catalogue Title",value:"title"},{label:"Catalogue Description",value:"description"},{label:"Catalogue URL",value:"url"},{label:"Catalogue Price",value:"price"}].map(((e,t)=>(0,L.jsx)(V,{fullWidth:!0,variant:"standard",name:e.value,label:e.label,value:pe[e.value],onChange:ge,error:e.value&&be[e.value]&&Boolean(fe[e.value]),helperText:e.value&&be[e.value]&&fe[e.value],indicator:pe.theme,style:{marginTop:5}},t)))})})]}),(0,L.jsxs)(m.A,{sx:{width:300,mx:3,width:"-webkit-fill-available",mb:3,mt:2},children:[(0,L.jsx)(h.A,{id:"multiple-chip-label",children:"Card"}),(0,L.jsx)(x.A,{labelId:"multiple-chip-label",id:"multiple-chip",multiple:!0,defaultValue:"",value:k,onChange:e=>{const{target:{value:t}}=e;j("string"===typeof t?t.split(","):t)},input:(0,L.jsx)(f.A,{id:"select-multiple-chip",label:"Chip",required:!0}),renderValue:e=>(0,L.jsx)(b.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,L.jsx)(v.A,{label:e},e)))}),required:!0,MenuProps:U,children:Y.map((e=>(0,L.jsx)(A.A,{value:e,style:Z(e,k,t),children:e},e)))})]}),(0,L.jsxs)(_,{children:[(0,L.jsxs)("label",{className:"switch",children:[(0,L.jsx)("input",{type:"checkbox",onChange:()=>{W(!C)}}),(0,L.jsx)("span",{className:"slider"})]}),(0,L.jsx)("span",{style:{color:"#72797f",fontWeight:400,fontSize:"16px"},children:"Add Card Theme"})]}),(0,L.jsx)(w.A,{fullWidth:!0,size:"large",variant:"contained",type:"submit",sx:{background:pe.theme,borderRadius:0,position:"sticky",bottom:0},loading:xe,onClick:()=>{me(),fe.image&&$(!0)},children:"Save"})]})})]})]})}},56175:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(44414);function n(e){let{color:t,...i}=e;return(0,a.jsxs)("svg",{...i,preserveAspectRatio:"xMinYMax meet",viewBox:"0 0 246 57",children:[(0,a.jsx)("path",{d:"M 214.7168,6.1113281 C 195.65271,5.9023124 172.37742,11.948182 137.87305,32.529297 110.16613,49.05604 86.980345,56.862784 65.015625,57 H 65 v 1 H 246 V 11.453125 C 236.0775,8.6129313 226.15525,6.2367376 214.7168,6.1113281 Z",fill:"#ffffff",clipRule:"evenodd",fillRule:"evenodd"}),(0,a.jsx)("path",{d:"M 0,35.773438 V 58 H 65 L 64.97852,57 C 43.192081,57.127508 22.605139,49.707997 0,35.773438 Z ",fill:"#ffffff",clipRule:"evenodd",fillRule:"evenodd"}),(0,a.jsx)("path",{fill:t,clipRule:"evenodd",fillRule:"evenodd",d:"m 0,16.7221 v 19.052 C 45.4067,63.7643 82.6667,65.4583 137.873,32.5286 193.08,-0.401184 219.54,3.87965 246,11.4535 V 6.51403 C 185.24,-16.8661 135.913,29.331 97.6933,40.8564 59.4733,52.3818 33.6467,44.1494 0,16.7221 Z"})]})}},60899:(e,t,i)=>{i.d(t,{Ay:()=>k});var a=i(98587),n=i(58168),r=i(9950),o=i(2803),l=i(28286),s=i(80237),c=i(88465),d=i(59254),u=i(48283),p=i(14857);const g=r.createContext();var m=i(423);function h(e){return(0,m.A)("MuiGrid",e)}const x=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],f=(0,i(1763).A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...x.map((e=>`grid-xs-${e}`)),...x.map((e=>`grid-sm-${e}`)),...x.map((e=>`grid-md-${e}`)),...x.map((e=>`grid-lg-${e}`)),...x.map((e=>`grid-xl-${e}`))]);var b=i(44414);const v=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function A(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}const w=(0,d.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e,{container:a,direction:n,item:r,spacing:o,wrap:l,zeroMinWidth:s,breakpoints:c}=i;let d=[];a&&(d=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[i[`spacing-xs-${String(e)}`]];const a=[];return t.forEach((t=>{const n=e[t];Number(n)>0&&a.push(i[`spacing-${t}-${String(n)}`])})),a}(o,c,t));const u=[];return c.forEach((e=>{const a=i[e];a&&u.push(t[`grid-${e}-${String(a)}`])})),[t.root,a&&t.container,r&&t.item,s&&t.zeroMinWidth,...d,"row"!==n&&t[`direction-xs-${String(n)}`],"wrap"!==l&&t[`wrap-xs-${String(l)}`],...u]}})((e=>{let{ownerState:t}=e;return(0,n.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:i}=e;const a=(0,l.kW)({values:i.direction,breakpoints:t.breakpoints.values});return(0,l.NI)({theme:t},a,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${f.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:i}=e;const{container:a,rowSpacing:n}=i;let r={};if(a&&0!==n){const e=(0,l.kW)({values:n,breakpoints:t.breakpoints.values});r=(0,l.NI)({theme:t},e,(e=>{const i=t.spacing(e);return"0px"!==i?{marginTop:`-${A(i)}`,[`& > .${f.item}`]:{paddingTop:A(i)}}:{}}))}return r}),(function(e){let{theme:t,ownerState:i}=e;const{container:a,columnSpacing:n}=i;let r={};if(a&&0!==n){const e=(0,l.kW)({values:n,breakpoints:t.breakpoints.values});r=(0,l.NI)({theme:t},e,(e=>{const i=t.spacing(e);return"0px"!==i?{width:`calc(100% + ${A(i)})`,marginLeft:`-${A(i)}`,[`& > .${f.item}`]:{paddingLeft:A(i)}}:{}}))}return r}),(function(e){let t,{theme:i,ownerState:a}=e;return i.breakpoints.keys.reduce(((e,r)=>{let o={};if(a[r]&&(t=a[r]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,l.kW)({values:a.columns,breakpoints:i.breakpoints.values}),c="object"===typeof s?s[r]:s;if(void 0===c||null===c)return e;const d=Math.round(t/c*1e8)/1e6+"%";let u={};if(a.container&&a.item&&0!==a.columnSpacing){const e=i.spacing(a.columnSpacing);if("0px"!==e){const t=`calc(${d} + ${A(e)})`;u={flexBasis:t,maxWidth:t}}}o=(0,n.A)({flexBasis:d,flexGrow:0,maxWidth:d},u)}return 0===i.breakpoints.values[r]?Object.assign(e,o):e[i.breakpoints.up(r)]=o,e}),{})}));const y=e=>{const{classes:t,container:i,direction:a,item:n,spacing:r,wrap:o,zeroMinWidth:l,breakpoints:s}=e;let d=[];i&&(d=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const i=[];return t.forEach((t=>{const a=e[t];if(Number(a)>0){const e=`spacing-${t}-${String(a)}`;i.push(e)}})),i}(r,s));const u=[];s.forEach((t=>{const i=e[t];i&&u.push(`grid-${t}-${String(i)}`)}));const p={root:["root",i&&"container",n&&"item",l&&"zeroMinWidth",...d,"row"!==a&&`direction-xs-${String(a)}`,"wrap"!==o&&`wrap-xs-${String(o)}`,...u]};return(0,c.A)(p,h,t)},$=r.forwardRef((function(e,t){const i=(0,u.A)({props:e,name:"MuiGrid"}),{breakpoints:l}=(0,p.A)(),c=(0,s.A)(i),{className:d,columns:m,columnSpacing:h,component:x="div",container:f=!1,direction:A="row",item:$=!1,rowSpacing:k,spacing:j=0,wrap:C="wrap",zeroMinWidth:S=!1}=c,W=(0,a.A)(c,v),R=k||j,M=h||j,I=r.useContext(g),N=f?m||12:I,z={},B=(0,n.A)({},W);l.keys.forEach((e=>{null!=W[e]&&(z[e]=W[e],delete B[e])}));const T=(0,n.A)({},c,{columns:N,container:f,direction:A,item:$,rowSpacing:R,columnSpacing:M,wrap:C,zeroMinWidth:S,spacing:j},z,{breakpoints:l.keys}),O=y(T);return(0,b.jsx)(g.Provider,{value:N,children:(0,b.jsx)(w,(0,n.A)({ownerState:T,className:(0,o.A)(O.root,d),as:x,ref:t},B))})}));const k=$},66075:(e,t,i)=>{i.d(t,{A:()=>d});var a=i(9950),n=i(11942),r=i.n(n),o=i(14650),l=i(52346),s=i(44414);const c=(0,a.forwardRef)(((e,t)=>{let{icon:i,sx:a,...n}=e;return(0,s.jsx)(l.A,{component:o.In,icon:i,sx:{...a},ref:t,...n})}));c.propTypes={icon:r().oneOfType([r().element,r().string]),sx:r().object};const d=c},78822:(e,t,i)=>{i.d(t,{A:()=>c});var a=i(3913),n=i(33174),r=i(25333),o=i(92743),l=i(66075),s=i(44414);function c(e){let{open:t,setOpen:i,title:c,msg:d,type:u="success"}=e;return(0,s.jsx)(a.A,{open:t,autoHideDuration:3e3,onClose:()=>i(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,s.jsxs)(n.A,{severity:u,action:(0,s.jsx)(r.A,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{i(!1)},children:(0,s.jsx)(l.A,{icon:"clarity:times-circle-line",width:22,height:22})}),sx:{textAlign:"left"},children:[(0,s.jsx)(o.A,{sx:{m:0},children:c}),d]})})}},82138:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(29246);const n=`${i(53619).$}/api/card/`,r={getOneCard:e=>a.A.get(`${n}${e}`,{name:e}).then((e=>e)).catch((e=>{console.error(e)})),getAllCards:e=>a.A.get(`${n}all-cards/${e}`,{userId:e}).then((e=>e.data)).catch((e=>{console.error(e)})),newCard:(e,t)=>a.A.post(`${n}new-card/${t}`,{cardData:e,userId:t}).then((e=>e)).catch((e=>e.response)),editCard:(e,t)=>a.A.patch(`${n}edit/${t}`,{cardData:e}).then((e=>e)).catch((e=>e.response)),downloadVcf:e=>a.A.get(`${n}add-contact/${e}`).then((e=>(console.log("--=-=",e),e))).catch((e=>e.response)),deleteCard:e=>{a.A.delete(`${n}delete/${e}`,{id:e}).then((e=>{})).catch((e=>{console.error(e)}))}}}}]);