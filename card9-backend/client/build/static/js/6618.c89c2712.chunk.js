"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[6618],{8279:(e,t,a)=>{a.d(t,{A:()=>c});var i=a(11942),n=a.n(i),r=a(76455),o=a(9950),l=a(52346),s=a(44414);const d=(0,o.forwardRef)(((e,t)=>{let{children:a,title:i="",meta:n,...o}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.mg,{children:[(0,s.jsx)("title",{children:`${i} | Card9`}),n]}),(0,s.jsx)(l.A,{ref:t,...o,children:a})]})}));d.propTypes={children:n().node.isRequired,title:n().string,meta:n().node};const c=d},10245:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(9950),n=a(44414);const r=e=>{let{title:t,description:a,image:r,date:o}=e;return(0,i.useEffect)((()=>{document.querySelector('meta[property="og:title"]').content=t,document.querySelector('meta[property="og:description"]').content=a,document.querySelector('meta[property="og:image"]').content=r,document.querySelector('meta[property="og:type"]').content="website"}),[t,a,r]),(0,n.jsx)(n.Fragment,{})}},28649:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ne});var i=a(9950),n=a(60666),r=a(82569),o=a(13564),l=a(61467),s=a(27463),d=a(6890),c=a(19808),m=a(35007),u=a(13569),p=a(82053),h=a(75165),x=a(50704),g=a(74616),f=a(46986),b=a(45546),v=a(2046),A=a(60899),j=a(28095),y=a(59254),C=a(48089),k=a(25333),w=a(29925),S=a(56175),M=a(66075);const N=(0,y.Ay)("div")({display:"flex",alignItems:"center",marginBottom:16}),R=(0,y.Ay)(M.A)((e=>{let{theme:t}=e;return{width:"32px",height:"32px",cursor:"pointer",margin:"8px 16px",[t.breakpoints.down("sm")]:{margin:"8px"}}})),q=(0,y.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",flexWrap:"wrap",[t.breakpoints.down("md")]:{justifyContent:"center"}}})),B=(0,y.Ay)(C.A)((e=>{let{theme:t}=e;return{width:400,margin:"1rem",borderRadius:"0.5rem",textDecoration:"none",[t.breakpoints.down("sm")]:{width:360,margin:"auto",marginBottom:16}}})),W=(0,y.Ay)("form")({}),F=(0,y.Ay)("div")((e=>{let{color:t}=e;return{backgroundColor:t,position:"relative",height:"385px",overflow:"hidden",userSelect:"none"}})),$=(0,y.Ay)("label")((e=>{let{theme:t,background:a}=e;return{display:"block",background:`url(${a})`,backgroundColor:t.palette.grey[200],backgroundRepeat:"no-repeat",height:"100%",backgroundPosition:"30% bottom",backgroundSize:"60%",cursor:"pointer"}})),T=(0,y.Ay)("input")({display:"none"}),I=(0,y.Ay)(S.A)({position:"absolute",bottom:0}),D=(0,y.Ay)(k.A)((e=>{let{indicator:t}=e;return{position:"absolute",background:t,color:"#fff",":hover":{background:t}}})),E=(0,y.Ay)("label")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",position:"absolute",bottom:0,right:24,width:"60px",height:"60px",color:t.palette.grey[600],backgroundColor:t.palette.grey[200],borderRadius:8,cursor:"pointer"}})),L=(0,y.Ay)(u.A)({position:"absolute",bottom:0,right:24,width:"60px !important"}),P=(0,y.Ay)("div")({padding:"16px",display:"flex",alignItems:"center",flexWrap:"wrap"}),O=(0,y.Ay)("div")((e=>{let{color:t,active:a}=e;return{background:t,width:"1.25rem",height:"1.25rem",cursor:"pointer",transition:"300ms ease 0s",borderRadius:"100%",margin:"0.5rem",transform:a&&"scale(1.5)",boxShadow:a&&"#fff 0px 0px 0px 2px, rgb(0, 0, 0, 0.4) 0px 0px 0px 3px"}})),z=(0,y.Ay)("div")({}),H=(0,y.Ay)("div")({}),Y=(0,y.Ay)("div")({position:"relative",display:"flex"}),V=(0,y.Ay)("div")({}),_=(0,y.Ay)("div")({marginTop:12,height:"fit-content",opacity:.5,cursor:"pointer"}),U=(0,y.Ay)(w.A)((e=>{let{indicator:t}=e;return{marginBottom:1,"& .Mui-focused":{"&.MuiInputLabel-root":{color:t},"&:after":{borderColor:t}}}})),Z=(0,y.Ay)(C.A)((e=>{let{theme:t,indicator:a}=e;return{padding:12,width:400,height:"fit-content",margin:"1rem",borderRadius:"0.5rem",backgroundColor:`${a}20`,[t.breakpoints.down("sm")]:{width:360,margin:"auto"}}})),G=(0,y.Ay)(A.Ay)({padding:16,textAlign:"center",cursor:"pointer",userSelect:"none",":hover svg":{transform:"scale(1.1)"}});var J=a(63464),X=a(8279),K=a(55499),Q=a(82138),ee=a(78822),te=a(10245);const ae=a.p+"static/media/ogCreate.a1371574d0b8c011197b.png";var ie=a(44414);function ne(){const e=(0,o.Zp)(),[t,a]=(0,i.useState)(!1),[y,C]=(0,i.useState)(""),[k,w]=(0,i.useState)(!1),[S,ne]=(0,i.useState)(!1),[re,oe]=(0,i.useState)(null),[le,se]=(0,i.useState)(!1),[de,ce]=(0,i.useState)(!1),[me,ue]=(0,i.useState)(!0),[pe,he]=(0,i.useState)(!1),xe=()=>ue(!me);const ge=async e=>{const t=e.target.files[0];let a=function(e){const t=e.split(".");return t.length>1?t.pop():null}(t.name);if(t&&t.size>10485760)he("File size should be less than 10MB");else if(he(""),"mp4"===a){ce(!0);const e=new FileReader;t&&(e.readAsDataURL(t),e.onloadend=()=>{ke("isVideoProfile",!0),ke("profile",e.result)})}else{const t={maxSizeMB:.8,maxWidthOrHeight:500,useWebWorker:!0};if(e.target.files&&e.target.files.length){const a=new FileReader;if("profile"===e.target.name){const i=await(0,d.A)(e.target.files[0],t);a.readAsDataURL(i),a.onloadend=()=>{ke("profile",a.result)}}else{const i=await(0,d.A)(e.target.files[0],t);a.readAsDataURL(i),a.onloadend=()=>{ke("logo",a.result)}}}}},fe=["#8f60DE","#628AF8","#6DD3C7","#3BB55D","#FFC631","#FF8C39","#EA3A2E","#4A4A4A"],be=n.Ik().shape({profile:n.gl().required("Profile Image Required"),logo:n.gl().required("Logo Image Required"),cardName:n.Yj().min(3,"Card name must be atleast 3 characters").max(15,"Card name must be at most 15 characters").required("Card name is required"),firstName:n.Yj().required("First name is required"),lastName:n.Yj().required("Last name is required"),title:n.Yj().required("Title is required"),phone:n.ai().required("Phone number is required"),company:n.Yj().required("Company is required")}),{user:ve}=(0,r.d4)((e=>e.auth)),Ae=(0,l.Wx)({initialValues:{profile:"",logo:"",theme:fe[0],cardName:"",prefix:"",firstName:"",middleName:"",lastName:"",title:"",department:"",company:"",headline:"",phone:"",whatsapp:"",email:"",website:"",instagram:"",facebook:"",address:"",addressUrl:"",isVideoProfile:!1,info:[]},validationSchema:be,onSubmit:(t,a)=>{const i=Object.assign({...t},{cardName:t.cardName.replace(/\s+/g,"")});try{Q.A.newCard(i,ve.data?ve.data.id:ve.id).then((t=>{400===t.status?(C(t.data.msg),w(!0),setTimeout((()=>{a.setSubmitting(!1),w(!1)}),2e3)):(oe("Card successfully created."),setTimeout((()=>{ne(!0),a.setSubmitting(!1)}),1e3),setTimeout((()=>{e("/app/cards")}),3e3))}))}catch(pe){console.log(pe)}}}),{values:je,handleChange:ye,handleSubmit:Ce,setFieldValue:ke,isSubmitting:we,errors:Se,touched:Me}=Ae;(0,i.useEffect)((()=>{setTimeout((()=>{a(!1)}),2e3)}),[t]);const Ne=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return(0,ie.jsx)(M.A,{icon:e,width:t,height:a})};return(0,ie.jsxs)(X.A,{title:"Add Card",children:[(0,ie.jsx)(te.A,{title:"Add card",image:ae}),(0,ie.jsx)(J.A,{open:le,keepMounted:!0,onClose:()=>se(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:(0,ie.jsx)(s.Xq,{color:je.theme,onChange:e=>ke("theme",e.hex)})}),(0,ie.jsx)(ee.A,{open:pe,setOpen:he,type:"error",title:"Error",msg:"File size should be less than 10MB"}),(0,ie.jsx)(ee.A,{open:t,setOpen:Ce,type:"error",title:"Error",msg:Se.profile?Se.profile:Se.logo}),(0,ie.jsx)(ee.A,{open:k,setOpen:Ce,type:"error",title:"Error",msg:y}),(0,ie.jsx)(ee.A,{open:S,setOpen:ne,type:"success",title:"Success",msg:re}),(0,ie.jsxs)(c.A,{maxWidth:"xl",children:[(0,ie.jsx)(N,{children:(0,ie.jsx)(m.A,{title:"Back",children:(0,ie.jsx)(R,{icon:"eva:arrow-back-fill",onClick:()=>(e=>{e(-1)})(e)})})}),(0,ie.jsxs)(q,{children:[(0,ie.jsx)(B,{children:(0,ie.jsxs)(W,{onSubmit:Ce,children:[(0,ie.jsxs)(F,{color:je.theme,children:[je.profile?(0,ie.jsxs)(ie.Fragment,{children:[de?(0,ie.jsx)(u.A,{component:"video",src:je.profile,autoPlay:!0,muted:me,loop:!0,alt:"avatar",sx:{height:"100%"}}):(0,ie.jsx)(u.A,{component:"img",image:je.profile,alt:"avatar",sx:{height:"100%"}}),(0,ie.jsx)(D,{variant:"contained",onClick:()=>{document.getElementById("inputProfile").click()},indicator:je.theme,sx:{top:12,right:104},children:Ne("bi:camera-fill")}),(0,ie.jsx)(D,{variant:"contained",onClick:()=>ke("profile",""),indicator:je.theme,sx:{top:12,right:64},children:Ne("bi:trash-fill")}),de?(0,ie.jsx)(D,{variant:"contained",onClick:()=>xe(),indicator:je.theme,sx:{top:12,right:24},children:Ne("ant-design:sound-filled")}):(0,ie.jsx)(D,{variant:"contained",onClick:()=>xe(),sx:{top:12,right:24,cursor:"default"}})]}):(0,ie.jsx)($,{htmlFor:"inputProfile",background:"/static/illustrations/avatar-background.svg",children:(0,ie.jsx)(p.A,{sx:{textAlign:"center",pt:2,opacity:.5},children:"Upload a photo or video"})}),(0,ie.jsx)(T,{id:"inputProfile",type:"file",accept:"video/*,image/*",name:"profile",onChange:e=>ge(e)}),(0,ie.jsx)(I,{color:je.theme}),je.logo?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(L,{component:"img",height:"60",image:je.logo,alt:"logo"}),(0,ie.jsx)(D,{variant:"contained",onClick:()=>{document.getElementById("inputLogo").click()},indicator:je.theme,sx:{bottom:36,right:24},children:Ne("bi:camera-fill")}),(0,ie.jsx)(D,{variant:"contained",onClick:()=>ke("logo",""),indicator:je.theme,sx:{bottom:0,right:24},children:Ne("bi:trash-fill")})]}):(0,ie.jsxs)(E,{htmlFor:"inputLogo",children:[Ne("carbon:add",22,22),(0,ie.jsx)(p.A,{children:"Logo"})]}),(0,ie.jsx)(T,{id:"inputLogo",type:"file",accept:"image/*",name:"logo",onChange:e=>ge(e)})]}),(0,ie.jsxs)(P,{children:[fe.map(((e,t)=>(0,ie.jsx)(O,{color:e,onClick:()=>ke("theme",e),active:je.theme===e?1:0},t))),(0,ie.jsx)(h.A,{onClick:()=>se(!0),children:Ne("carbon:add",22,22)})]}),(0,ie.jsxs)(x.A,{sx:{p:"0 !important",mb:2},children:[(0,ie.jsx)(U,{fullWidth:!0,variant:"standard",name:"cardName",label:"Card Name (This name is use for your card url)",value:je.cardName,onChange:ye,error:Me.cardName&&Boolean(Se.cardName),helperText:Me.cardName&&Se.cardName,sx:{mx:3,width:"-webkit-fill-available"},indicator:je.theme}),(0,ie.jsxs)(z,{sx:{p:3,pb:1},children:[(0,ie.jsxs)(g.A,{defaultExpanded:!0,sx:{m:"0 !important"},children:[(0,ie.jsx)(f.A,{expandIcon:Ne("fa:angle-down"),sx:{"&.Mui-expanded":{minHeight:0,margin:0,padding:0},"& .MuiAccordionSummary-content.Mui-expanded":{margin:0},"&.MuiButtonBase-root":{padding:0},overflowWrap:"anywhere"},children:(0,ie.jsx)(p.A,{sx:{fontWeight:"bold"},children:"Basic Details"})}),(0,ie.jsx)(b.A,{children:[{label:"Prefix",value:"prefix"},{label:"First Name",value:"firstName"},{label:"Middle Name",value:"middleName"},{label:"Last Name",value:"lastName"},{label:"Phone",value:"phone"}].map(((e,t)=>(0,ie.jsx)(U,{fullWidth:!0,variant:"standard",name:e.value,label:e.label,value:je[e.value],onChange:ye,error:e.value&&Me[e.value]&&Boolean(Se[e.value]),helperText:e.value&&Me[e.value]&&Se[e.value],indicator:je.theme,style:{marginTop:5}},t)))})]}),(0,ie.jsxs)(g.A,{defaultExpanded:!0,sx:{m:"0 !important"},children:[(0,ie.jsx)(f.A,{expandIcon:Ne("fa:angle-down"),sx:{"&.Mui-expanded":{minHeight:0,margin:0,padding:0},"& .MuiAccordionSummary-content.Mui-expanded":{margin:0},"&.MuiButtonBase-root":{padding:0},overflowWrap:"anywhere"},children:(0,ie.jsx)(p.A,{sx:{fontWeight:"bold"},children:"Company Details"})}),(0,ie.jsx)(b.A,{children:[{label:"Title",value:"title"},{label:"Company",value:"company"},{label:"Headline",value:"headline"},{label:"Department",value:"department"}].map(((e,t)=>(0,ie.jsx)(U,{fullWidth:!0,variant:"standard",name:e.value,label:e.label,value:je[e.value],onChange:ye,multiline:e.multiline,rows:3,style:{marginTop:5},error:e.value&&Me[e.value]&&Boolean(Se[e.value]),helperText:e.value&&Me[e.value]&&Se[e.value],indicator:je.theme},t)))})]}),(0,ie.jsxs)(g.A,{defaultExpanded:!0,sx:{m:"0 !important"},children:[(0,ie.jsx)(f.A,{expandIcon:Ne("fa:angle-down"),sx:{"&.Mui-expanded":{minHeight:0,margin:0,padding:0},"& .MuiAccordionSummary-content.Mui-expanded":{margin:0},"&.MuiButtonBase-root":{padding:0},overflowWrap:"anywhere"},children:(0,ie.jsx)(p.A,{sx:{fontWeight:"bold"},children:"Contact Details"})}),(0,ie.jsx)(b.A,{children:[{label:"Whatsapp",value:"whatsapp"},{label:"Email",value:"email"},{label:"Address",value:"address"},{label:"Address Map Url",value:"addressUrl"},{label:"Website",value:"website"},{label:"Instagram username",value:"instagram"},{label:"Facebook username",value:"facebook"}].map(((e,t)=>(0,ie.jsx)(U,{fullWidth:!0,variant:"standard",name:e.value,label:e.label,value:je[e.value],onChange:ye,multiline:e.multiline,rows:3,style:{marginTop:5},indicator:je.theme},t)))})]})]}),(0,ie.jsx)(H,{children:je.info.map(((e,t)=>(0,ie.jsxs)(Y,{sx:{px:4.8,mb:1},children:[(0,ie.jsx)(V,{children:(0,ie.jsx)(U,{fullWidth:!0,variant:"standard",name:`info.${t}.value `,placeholder:`${e.name} username`,value:e.value,onChange:ye,indicator:je.theme,sx:{py:1},InputProps:{startAdornment:(0,ie.jsx)(v.A,{position:"start",children:Ne(e.icon,24,24)})}})}),(0,ie.jsx)(_,{onClick:()=>(e=>{const t=je.info;t.splice(e,1),ke("info",t)})(t),children:Ne("mdi:close",22,22)})]},t)))})]}),(0,ie.jsx)(j.A,{fullWidth:!0,size:"large",variant:"contained",type:"submit",sx:{background:je.theme,borderRadius:0,position:"sticky",bottom:0},loading:we,onClick:()=>{(Se.profile||Se.logo)&&a(!0)},children:"Save"})]})}),(0,ie.jsxs)(Z,{indicator:je.theme,children:[(0,ie.jsx)(p.A,{sx:{fontSize:16,mb:3},color:"text.secondary",children:"Add more information:"}),(0,ie.jsx)(A.Ay,{container:!0,spacing:2,children:K.map(((e,t)=>(0,ie.jsxs)(G,{item:!0,xs:4,onClick:()=>(e=>{const t=je.info;t.push(e),ke("info",t)})(e),children:[Ne(e.icon,32,32),(0,ie.jsx)(p.A,{variant:"body2",children:e.name})]},t)))})]})]})]})]})}},55499:e=>{e.exports=JSON.parse('[{"name":"Twitter","icon":"mdi:twitter","value":"","text":""},{"name":"Linkedin","icon":"mdi:linkedin","value":"","text":""},{"name":"Snapchat","icon":"mdi:snapchat","value":"","text":""},{"name":"Github","icon":"mdi:github","value":"","text":""},{"name":"Youtube","icon":"mdi:youtube","value":"","text":""},{"name":"Skype","icon":"mdi:skype","value":"","text":""},{"name":"YotubeAttachment","icon":"mdi:attachment","value":"","text":"Youtube Attachment"}]')},56175:(e,t,a)=>{a.d(t,{A:()=>n});var i=a(44414);function n(e){let{color:t,...a}=e;return(0,i.jsxs)("svg",{...a,preserveAspectRatio:"xMinYMax meet",viewBox:"0 0 246 57",children:[(0,i.jsx)("path",{d:"M 214.7168,6.1113281 C 195.65271,5.9023124 172.37742,11.948182 137.87305,32.529297 110.16613,49.05604 86.980345,56.862784 65.015625,57 H 65 v 1 H 246 V 11.453125 C 236.0775,8.6129313 226.15525,6.2367376 214.7168,6.1113281 Z",fill:"#ffffff",clipRule:"evenodd",fillRule:"evenodd"}),(0,i.jsx)("path",{d:"M 0,35.773438 V 58 H 65 L 64.97852,57 C 43.192081,57.127508 22.605139,49.707997 0,35.773438 Z ",fill:"#ffffff",clipRule:"evenodd",fillRule:"evenodd"}),(0,i.jsx)("path",{fill:t,clipRule:"evenodd",fillRule:"evenodd",d:"m 0,16.7221 v 19.052 C 45.4067,63.7643 82.6667,65.4583 137.873,32.5286 193.08,-0.401184 219.54,3.87965 246,11.4535 V 6.51403 C 185.24,-16.8661 135.913,29.331 97.6933,40.8564 59.4733,52.3818 33.6467,44.1494 0,16.7221 Z"})]})}},66075:(e,t,a)=>{a.d(t,{A:()=>c});var i=a(9950),n=a(11942),r=a.n(n),o=a(14650),l=a(52346),s=a(44414);const d=(0,i.forwardRef)(((e,t)=>{let{icon:a,sx:i,...n}=e;return(0,s.jsx)(l.A,{component:o.In,icon:a,sx:{...i},ref:t,...n})}));d.propTypes={icon:r().oneOfType([r().element,r().string]),sx:r().object};const c=d},78822:(e,t,a)=>{a.d(t,{A:()=>d});var i=a(3913),n=a(33174),r=a(25333),o=a(92743),l=a(66075),s=a(44414);function d(e){let{open:t,setOpen:a,title:d,msg:c,type:m="success"}=e;return(0,s.jsx)(i.A,{open:t,autoHideDuration:3e3,onClose:()=>a(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,s.jsxs)(n.A,{severity:m,action:(0,s.jsx)(r.A,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{a(!1)},children:(0,s.jsx)(l.A,{icon:"clarity:times-circle-line",width:22,height:22})}),sx:{textAlign:"left"},children:[(0,s.jsx)(o.A,{sx:{m:0},children:d}),c]})})}},82138:(e,t,a)=>{a.d(t,{A:()=>r});var i=a(29246);const n=`${a(53619).$}/api/card/`,r={getOneCard:e=>i.A.get(`${n}${e}`,{name:e}).then((e=>e)).catch((e=>{console.error(e)})),getAllCards:e=>i.A.get(`${n}all-cards/${e}`,{userId:e}).then((e=>e.data)).catch((e=>{console.error(e)})),newCard:(e,t)=>i.A.post(`${n}new-card/${t}`,{cardData:e,userId:t}).then((e=>e)).catch((e=>e.response)),editCard:(e,t)=>i.A.patch(`${n}edit/${t}`,{cardData:e}).then((e=>e)).catch((e=>e.response)),downloadVcf:e=>i.A.get(`${n}add-contact/${e}`).then((e=>(console.log("--=-=",e),e))).catch((e=>e.response)),deleteCard:e=>{i.A.delete(`${n}delete/${e}`,{id:e}).then((e=>{})).catch((e=>{console.error(e)}))}}}}]);